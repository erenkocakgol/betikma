{% load i18n %}
<!DOCTYPE html>
<html lang="tr" class="h-full">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>
            {% block head_title %}
                Betikma - Hesap Yönetimi
            {% endblock head_title %}
        </title>
        
        <!-- Fonts -->
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap">
        
        <!-- Font Awesome -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
        
        <!-- Tailwind CSS -->
        <script src="https://cdn.tailwindcss.com"></script>
        
        <style>
            :root {
                --color-pastel-purple: #E8DCFF;
                --color-pastel-green: #D4F4DD;
                --color-dark-purple: #7C3AED;
                --color-dark-green: #059669;
                --color-accent-purple: #A855F7;
                --color-accent-green: #10B981;
                --color-light-gray: #F8FAFC;
                --color-medium-gray: #E2E8F0;
                --shadow-soft: 0 4px 20px rgba(0, 0, 0, 0.08);
                --shadow-medium: 0 8px 30px rgba(0, 0, 0, 0.12);
                --shadow-strong: 0 15px 35px rgba(0, 0, 0, 0.15);
            }

            * {
                scroll-behavior: smooth;
            }

            body {
                font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
                background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
                background-attachment: fixed;
                line-height: 1.6;
                font-feature-settings: "liga" 1, "kern" 1;
                text-rendering: optimizeLegibility;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            /* Modern Glassmorphism Effect */
            .glass-effect {
                background: rgba(255, 255, 255, 0.25);
                backdrop-filter: blur(10px);
                -webkit-backdrop-filter: blur(10px);
                border: 1px solid rgba(255, 255, 255, 0.18);
            }

            /* Enhanced Color Classes */
            .bg-pastel-purple { background-color: var(--color-pastel-purple); }
            .text-pastel-purple { color: var(--color-pastel-purple); }
            .bg-pastel-green { background-color: var(--color-pastel-green); }
            .text-pastel-green { color: var(--color-pastel-green); }
            .bg-dark-purple { background: linear-gradient(135deg, var(--color-dark-purple), var(--color-accent-purple)); }
            .text-dark-purple { color: var(--color-dark-purple); }
            .bg-dark-green { background: linear-gradient(135deg, var(--color-dark-green), var(--color-accent-green)); }
            .text-dark-green { color: var(--color-dark-green); }
            .border-dark-purple { border-color: var(--color-dark-purple); }
            .border-dark-green { border-color: var(--color-dark-green); }

            /* Modern Navigation - Matching main site style */
            .modern-nav {
                background: rgba(124, 58, 237, 0.95);
                backdrop-filter: blur(20px);
                -webkit-backdrop-filter: blur(20px);
                border: none;
                box-shadow: var(--shadow-medium);
                transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            }

            .modern-nav:hover {
                background: rgba(124, 58, 237, 0.98);
                transform: translateY(-1px);
                box-shadow: var(--shadow-strong);
            }

            /* Logo Animation - Same as main site */
            .logo {
                background: linear-gradient(45deg, #ffffff, #e8dcff);
                background-clip: text;
                -webkit-background-clip: text;
                -webkit-text-fill-color: transparent;
                background-size: 200% 200%;
                animation: gradientShift 3s ease-in-out infinite;
            }

            @keyframes gradientShift {
                0%, 100% { background-position: 0% 50%; }
                50% { background-position: 100% 50%; }
            }

            /* Enhanced Button Styles */
            .modern-button {
                position: relative;
                overflow: hidden;
                transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
                transform: translateZ(0);
            }

            .modern-button::before {
                content: '';
                position: absolute;
                top: 0;
                left: -100%;
                width: 100%;
                height: 100%;
                background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
                transition: left 0.5s;
            }

            .modern-button:hover::before {
                left: 100%;
            }

            .modern-button:hover {
                transform: translateY(-2px);
                box-shadow: var(--shadow-medium);
            }

            /* Account Menu Card */
            .account-card {
                background: rgba(255, 255, 255, 0.9);
                backdrop-filter: blur(20px);
                -webkit-backdrop-filter: blur(20px);
                border: 1px solid rgba(255, 255, 255, 0.3);
                box-shadow: var(--shadow-medium);
                transition: all 0.3s ease;
            }

            .account-card:hover {
                transform: translateY(-4px);
                box-shadow: var(--shadow-strong);
            }

            /* Menu Items */
            .menu-item {
                position: relative;
                overflow: hidden;
                transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            }

            .menu-item::before {
                content: '';
                position: absolute;
                top: 0;
                left: -100%;
                width: 100%;
                height: 100%;
                background: linear-gradient(90deg, transparent, rgba(124, 58, 237, 0.1), transparent);
                transition: left 0.5s;
            }

            .menu-item:hover::before {
                left: 100%;
            }

            .menu-item:hover {
                background: linear-gradient(135deg, var(--color-pastel-purple), rgba(212, 244, 221, 0.3));
                transform: translateX(8px);
            }

            /* Alert Messages - Same style as main site */
            .alert {
                border-left: 4px solid;
                box-shadow: var(--shadow-soft);
                transition: all 0.3s ease;
                animation: slideInFromTop 0.5s ease-out;
            }

            @keyframes slideInFromTop {
                from {
                    opacity: 0;
                    transform: translateY(-20px);
                }
                to {
                    opacity: 1;
                    transform: translateY(0);
                }
            }

            .alert:hover {
                transform: translateX(4px);
                box-shadow: var(--shadow-medium);
            }

            /* Footer Enhancement - Matching main site */
            .modern-footer {
                background: linear-gradient(135deg, var(--color-dark-green), var(--color-accent-green));
                position: relative;
                overflow: hidden;
            }

            .modern-footer::before {
                content: '';
                position: absolute;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
                background: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.05'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
                pointer-events: none;
            }

            /* Content Animation */
            .fade-in-up {
                opacity: 0;
                transform: translateY(30px);
                transition: all 0.6s ease-out;
            }

            .fade-in-up.visible {
                opacity: 1;
                transform: translateY(0);
            }

            /* Custom Scrollbar */
            ::-webkit-scrollbar {
                width: 8px;
                height: 8px;
            }

            ::-webkit-scrollbar-track {
                background: var(--color-light-gray);
            }

            ::-webkit-scrollbar-thumb {
                background: linear-gradient(45deg, var(--color-dark-purple), var(--color-dark-green));
                border-radius: 4px;
            }

            ::-webkit-scrollbar-thumb:hover {
                background: linear-gradient(45deg, var(--color-accent-purple), var(--color-accent-green));
            }

            /* Focus States */
            .focus-visible:focus {
                outline: 2px solid var(--color-accent-purple);
                outline-offset: 2px;
            }

            /* Mobile responsiveness */
            @media (max-width: 768px) {
                body {
                    font-size: 14px;
                }
                .account-card {
                    margin: 1rem;
                }
            }
        </style>
        
        {% block extra_head %}
        {% endblock extra_head %}
    </head>
    <body class="flex flex-col min-h-screen antialiased">
        <!-- Navigation - Matching main site -->
        <nav class="modern-nav p-4 shadow-lg sticky top-0 z-50">
            <div class="container mx-auto flex flex-wrap items-center justify-between">
                <a href="{% url 'home' %}" class="logo text-white text-3xl font-black tracking-wider rounded-lg p-3 hover:bg-white hover:bg-opacity-10 transition-all duration-300">
                    <i class="fas fa-feather-alt mr-2"></i>Betikma
                </a>
                
                <div class="flex items-center space-x-4">
                    {% if user.is_authenticated %}
                        <span class="text-white/80 text-sm hidden md:block">
                            <i class="fas fa-user-circle mr-2"></i>
                            {{ user.get_full_name|default:user.username }}
                        </span>
                        <a href="{% url 'home' %}" class="modern-button bg-gradient-to-r from-green-400 to-emerald-500 hover:from-green-500 hover:to-emerald-600 text-white font-semibold py-2.5 px-4 rounded-lg shadow-md transition-all duration-300 flex items-center text-sm">
                            <i class="fas fa-home mr-2"></i>Ana Sayfaya Dön
                        </a>
                    {% else %}
                        <a href="{% url 'home' %}" class="modern-button bg-gradient-to-r from-purple-400 to-indigo-500 hover:from-purple-500 hover:to-indigo-600 text-white font-semibold py-2.5 px-4 rounded-lg shadow-md transition-all duration-300 flex items-center text-sm">
                            <i class="fas fa-home mr-2"></i>Ana Sayfa
                        </a>
                    {% endif %}
                </div>
            </div>
        </nav>

        {% block body %}
            <!-- Messages -->
            <div class="container mx-auto px-4 mt-6">
                {% if messages %}
                    {% for message in messages %}
                        <div class="alert p-4 mb-4 text-sm rounded-lg flex items-center
                            {% if message.tags == 'success' %}bg-green-50 text-green-800 border-green-300{% elif message.tags == 'error' %}bg-red-50 text-red-800 border-red-300{% elif message.tags == 'warning' %}bg-yellow-50 text-yellow-800 border-yellow-300{% else %}bg-blue-50 text-blue-800 border-blue-300{% endif %}" 
                            role="alert">
                            <i class="fas fa-
                                {% if message.tags == 'success' %}check-circle text-green-500{% elif message.tags == 'error' %}exclamation-circle text-red-500{% elif message.tags == 'warning' %}exclamation-triangle text-yellow-500{% else %}info-circle text-blue-500{% endif %} mr-3"></i>
                            <span>{{ message }}</span>
                        </div>
                    {% endfor %}
                {% endif %}
            </div>

            <!-- Main Content -->
            <main class="flex-grow py-8">
                <div class="container mx-auto px-4">
                    <div class="grid lg:grid-cols-4 gap-8">
                        <!-- Account Menu -->
                        <div class="lg:col-span-1">
                            <div class="account-card rounded-3xl p-6 sticky top-24 fade-in-up">
                                <div class="text-center mb-6">
                                    <div class="w-16 h-16 bg-dark-purple rounded-full flex items-center justify-center mx-auto mb-4">
                                        <i class="fas fa-user-cog text-white text-2xl"></i>
                                    </div>
                                    <h2 class="text-xl font-bold text-gray-800">
                                        {% trans "Hesap Yönetimi" %}
                                    </h2>
                                    <p class="text-gray-600 text-sm mt-1">Güvenli hesap ayarları</p>
                                </div>
                                
                                <nav class="space-y-2">
                                    {% if user.is_authenticated %}
                                        {% url 'account_email' as email_url_ %}
                                        {% if email_url_ %}
                                            <a href="{{ email_url_ }}" class="menu-item flex items-center px-4 py-3 text-gray-700 hover:text-purple-700 rounded-xl transition-all duration-300">
                                                <i class="fas fa-envelope w-5 mr-3 text-blue-500"></i>
                                                {% trans "E-posta Değiştir" %}
                                            </a>
                                        {% endif %}
                                        
                                        {% url 'account_change_password' as change_password_url_ %}
                                        {% if change_password_url_ %}
                                            <a href="{{ change_password_url_ }}" class="menu-item flex items-center px-4 py-3 text-gray-700 hover:text-purple-700 rounded-xl transition-all duration-300">
                                                <i class="fas fa-key w-5 mr-3 text-green-500"></i>
                                                {% trans "Şifre Değiştir" %}
                                            </a>
                                        {% endif %}
                                        
                                        {% url 'socialaccount_connections' as connections_url_ %}
                                        {% if connections_url_ %}
                                            <a href="{{ connections_url_ }}" class="menu-item flex items-center px-4 py-3 text-gray-700 hover:text-purple-700 rounded-xl transition-all duration-300">
                                                <i class="fas fa-link w-5 mr-3 text-purple-500"></i>
                                                {% trans "Sosyal Hesap Bağlantıları" %}
                                            </a>
                                        {% endif %}
                                        
                                        {% url 'mfa_index' as mfa_url_ %}
                                        {% if mfa_url_ %}
                                            <a href="{{ mfa_url_ }}" class="menu-item flex items-center px-4 py-3 text-gray-700 hover:text-purple-700 rounded-xl transition-all duration-300">
                                                <i class="fas fa-shield-alt w-5 mr-3 text-yellow-500"></i>
                                                {% trans "İki Faktörlü Kimlik Doğrulama" %}
                                            </a>
                                        {% endif %}
                                        
                                        {% url 'usersessions_list' as usersessions_list_url_ %}
                                        {% if usersessions_list_url_ %}
                                            <a href="{{ usersessions_list_url_ }}" class="menu-item flex items-center px-4 py-3 text-gray-700 hover:text-purple-700 rounded-xl transition-all duration-300">
                                                <i class="fas fa-clock w-5 mr-3 text-indigo-500"></i>
                                                {% trans "Aktif Oturumlar" %}
                                            </a>
                                        {% endif %}
                                        
                                        <div class="border-t border-gray-200 my-4"></div>
                                        
                                        {% url 'account_logout' as logout_url_ %}
                                        {% if logout_url_ %}
                                            <a href="{{ logout_url_ }}" class="menu-item flex items-center px-4 py-3 text-red-600 hover:text-red-700 hover:bg-red-50 rounded-xl transition-all duration-300">
                                                <i class="fas fa-sign-out-alt w-5 mr-3"></i>
                                                {% trans "Çıkış Yap" %}
                                            </a>
                                        {% endif %}
                                    {% else %}
                                        {% url 'account_login' as login_url_ %}
                                        {% if login_url_ %}
                                            <a href="{{ login_url_ }}" class="menu-item flex items-center px-4 py-3 text-gray-700 hover:text-purple-700 rounded-xl transition-all duration-300">
                                                <i class="fas fa-sign-in-alt w-5 mr-3 text-green-500"></i>
                                                {% trans "Giriş Yap" %}
                                            </a>
                                        {% endif %}
                                        
                                        {% url 'account_signup' as signup_url_ %}
                                        {% if signup_url_ %}
                                            <a href="{{ signup_url_ }}" class="menu-item flex items-center px-4 py-3 text-gray-700 hover:text-purple-700 rounded-xl transition-all duration-300">
                                                <i class="fas fa-user-plus w-5 mr-3 text-blue-500"></i>
                                                {% trans "Kayıt Ol" %}
                                            </a>
                                        {% endif %}
                                    {% endif %}
                                </nav>
                            </div>
                        </div>
                        
                        <!-- Content Area -->
                        <div class="lg:col-span-3">
                            <div class="account-card rounded-3xl p-8 min-h-[500px] fade-in-up">
                                {% block content %}
                                    <div class="text-center py-16">
                                        <div class="w-24 h-24 bg-dark-purple rounded-full flex items-center justify-center mx-auto mb-6">
                                            <i class="fas fa-feather-alt text-white text-3xl"></i>
                                        </div>
                                        <h2 class="text-3xl font-bold text-gray-800 mb-4">Betikma Hesap Merkezi</h2>
                                        <p class="text-gray-600 text-lg max-w-2xl mx-auto mb-8">
                                            Hesap ayarlarınızı, güvenlik tercihlerinizi ve bağlı hizmetlerinizi sol menüden yönetebilirsiniz.
                                        </p>
                                        
                                        {% if not user.is_authenticated %}
                                            <div class="space-y-4">
                                                <div class="flex flex-col sm:flex-row gap-4 justify-center">
                                                    {% url 'account_login' as login_url_ %}
                                                    {% if login_url_ %}
                                                        <a href="{{ login_url_ }}" class="modern-button bg-gradient-to-r from-green-400 to-emerald-500 hover:from-green-500 hover:to-emerald-600 text-white font-semibold py-3 px-8 rounded-xl shadow-md transition-all duration-300 flex items-center justify-center">
                                                            <i class="fas fa-sign-in-alt mr-2"></i>
                                                            {% trans "Giriş Yap" %}
                                                        </a>
                                                    {% endif %}
                                                    
                                                    {% url 'account_signup' as signup_url_ %}
                                                    {% if signup_url_ %}
                                                        <a href="{{ signup_url_ }}" class="modern-button bg-gradient-to-r from-purple-400 to-indigo-500 hover:from-purple-500 hover:to-indigo-600 text-white font-semibold py-3 px-8 rounded-xl shadow-md transition-all duration-300 flex items-center justify-center">
                                                            <i class="fas fa-user-plus mr-2"></i>
                                                            {% trans "Kayıt Ol" %}
                                                        </a>
                                                    {% endif %}
                                                </div>
                                                
                                                <div class="mt-8 p-6 bg-gradient-to-r from-pastel-purple to-pastel-green rounded-2xl">
                                                    <h3 class="text-lg font-semibold text-gray-800 mb-2">
                                                        <i class="fas fa-magic mr-2 text-purple-600"></i>
                                                        Betikma'ya Hoş Geldiniz
                                                    </h3>
                                                    <p class="text-gray-700">
                                                        AI destekli metin editörü platformumuzla yaratıcılığınızı keşfedin ve yazmaya yeni bir boyut kazandırın.
                                                    </p>
                                                </div>
                                            </div>
                                        {% else %}
                                            <div class="grid md:grid-cols-2 gap-6 mt-8">
                                                <div class="p-6 bg-gradient-to-br from-green-50 to-emerald-50 rounded-2xl border border-green-100">
                                                    <i class="fas fa-shield-check text-green-500 text-3xl mb-4"></i>
                                                    <h3 class="text-lg font-semibold text-gray-800 mb-2">
                                                        Güvenlik
                                                    </h3>
                                                    <p class="text-gray-600 text-sm">
                                                        Hesabınız güvenli şekilde korunuyor. İki faktörlü doğrulama ile ek güvenlik sağlayabilirsiniz.
                                                    </p>
                                                </div>
                                                
                                                <div class="p-6 bg-gradient-to-br from-purple-50 to-indigo-50 rounded-2xl border border-purple-100">
                                                    <i class="fas fa-user-cog text-purple-500 text-3xl mb-4"></i>
                                                    <h3 class="text-lg font-semibold text-gray-800 mb-2">
                                                        Kişiselleştirme
                                                    </h3>
                                                    <p class="text-gray-600 text-sm">
                                                        Profil bilgilerinizi güncelleyin ve hesap tercihlerinizi yönetin.
                                                    </p>
                                                </div>
                                            </div>
                                        {% endif %}
                                    </div>
                                {% endblock content %}
                            </div>
                        </div>
                    </div>
                </div>
            </main>
        {% endblock body %}

        <footer class="modern-footer text-white p-8 mt-8 shadow-inner relative">
            <div class="container mx-auto text-center relative z-10">
                <div class="flex flex-col md:flex-row justify-between items-center mb-6">
                    <div class="mb-4 md:mb-0">
                        <h3 class="text-2xl font-bold mb-2 flex items-center justify-center md:justify-start">
                            <i class="fas fa-feather-alt mr-2"></i>Betikma
                        </h3>
                        <p class="text-green-100">AI destekli metin editörü platformu</p>
                    </div>
                    <div class="flex flex-wrap justify-center gap-4 md:space-x-6 md:flex-nowrap">
                        <a href="https://www.kristalsoft.com.tr" target="_blank" rel="noopener noreferrer" class="text-white hover:text-green-200 transition-colors duration-300 flex items-center">
                            <i class="fa fa-globe mr-2 text-lg md:text-xl"></i>KristalSoft {# Buraya 'text-lg md:text-xl' eklendi #}
                        </a>
                        <a href="https://instagram.com/kristalsoft/" target="_blank" rel="noopener noreferrer" class="text-white hover:text-green-200 transition-colors duration-300 flex items-center">
                            <i class="fab fa-instagram mr-2 text-lg md:text-xl"></i>Instagram {# Buraya 'text-lg md:text-xl' eklendi #}
                        </a>
                        <a href="https://linkedin.com/company/kristalsoft/" target="_blank" rel="noopener noreferrer" class="text-white hover:text-green-200 transition-colors duration-300 flex items-center">
                            <i class="fab fa-linkedin mr-2 text-lg md:text-xl"></i>LinkedIn {# Buraya 'text-lg md:text-xl' eklendi #}
                        </a>
                    </div>
                </div>
                
                <div class="border-t border-green-400 border-opacity-30 pt-6">
                    <p class="text-green-100 mb-4">&copy; 2025 Betikma by KristalSoft Yazılım. Tüm Hakları Saklıdır.</p>
                    <div class="flex flex-wrap justify-center gap-4 md:space-x-6 md:flex-nowrap">
                        <a href="{% url 'privacy_policy' %}" class="text-white hover:text-green-200 transition-colors duration-300 flex items-center mb-2">
                            <i class="fas fa-shield-alt mr-2 text-lg md:text-xl"></i>Gizlilik Politikası {# Buraya 'text-lg md:text-xl' eklendi #}
                        </a>
                        <a href="{% url 'terms_of_service' %}" class="text-white hover:text-green-200 transition-colors duration-300 flex items-center mb-2">
                            <i class="fas fa-file-contract mr-2 text-lg md:text-xl"></i>Kullanım Koşulları {# Buraya 'text-lg md:text-xl' eklendi #}
                        </a>
                        <a href="{% url 'support' %}" class="text-white hover:text-green-200 transition-colors duration-300 flex items-center mb-2">
                            <i class="fas fa-question-circle mr-2 text-lg md:text-xl"></i>Destek {# Buraya 'text-lg md:text-xl' eklendi #}
                        </a>
                    </div>
                </div>
            </div>
        </footer>
        
        {% block extra_body %}
        {% endblock extra_body %}
        
        <script>
            document.addEventListener('DOMContentLoaded', function() {
                // Scroll animasyonları
                const observerOptions = {
                    threshold: 0.1,
                    rootMargin: '0px 0px -50px 0px'
                };

                const observer = new IntersectionObserver(function(entries) {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            entry.target.classList.add('visible');
                        }
                    });
                }, observerOptions);

                // Fade-in animasyonu için elemanları gözlemle
                document.querySelectorAll('.fade-in-up').forEach(el => {
                    observer.observe(el);
                });

                // Alert otomatik kapatma
                document.querySelectorAll('.alert').forEach(alert => {
                    setTimeout(() => {
                        alert.style.opacity = '0';
                        alert.style.transform = 'translateY(-20px)';
                        setTimeout(() => {
                            alert.remove();
                        }, 300);
                    }, 5000);
                });

                // Menu items ripple effect
                const menuItems = document.querySelectorAll('.menu-item');
                menuItems.forEach(item => {
                    item.addEventListener('click', function(e) {
                        const ripple = document.createElement('span');
                        ripple.style.position = 'absolute';
                        ripple.style.borderRadius = '50%';
                        ripple.style.background = 'rgba(124, 58, 237, 0.3)';
                        ripple.style.transform = 'scale(0)';
                        ripple.style.animation = 'ripple 0.6s linear';
                        ripple.style.left = (e.offsetX - 10) + 'px';
                        ripple.style.top = (e.offsetY - 10) + 'px';
                        ripple.style.width = '20px';
                        ripple.style.height = '20px';
                        
                        this.appendChild(ripple);
                        
                        setTimeout(() => {
                            ripple.remove();
                        }, 600);
                    });
                });

                // Navbar scroll efekti
                let lastScrollY = window.scrollY;
                window.addEventListener('scroll', () => {
                    const navbar = document.querySelector('.modern-nav');
                    if (window.scrollY > lastScrollY && window.scrollY > 100) {
                        navbar.style.transform = 'translateY(-100%)';
                    } else {
                        navbar.style.transform = 'translateY(0)';
                    }
                    lastScrollY = window.scrollY;
                });

                // Smooth scrolling for anchor links
                document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                    anchor.addEventListener('click', function (e) {
                        e.preventDefault();
                        const target = document.querySelector(this.getAttribute('href'));
                        if (target) {
                            target.scrollIntoView({
                                behavior: 'smooth',
                                block: 'start'
                            });
                        }
                    });
                });

                // Form input focus effects
                document.querySelectorAll('input, textarea, select').forEach(input => {
                    input.addEventListener('focus', function() {
                        this.parentElement.classList.add('input-focused');
                    });
                    
                    input.addEventListener('blur', function() {
                        this.parentElement.classList.remove('input-focused');
                    });
                });

                // Loading states for forms
                document.querySelectorAll('form').forEach(form => {
                    form.addEventListener('submit', function() {
                        const submitBtn = this.querySelector('button[type="submit"], input[type="submit"]');
                        if (submitBtn) {
                            submitBtn.disabled = true;
                            submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin mr-2"></i>İşleniyor...';
                        }
                    });
                });

                // Account card hover effects
                document.querySelectorAll('.account-card').forEach(card => {
                    card.addEventListener('mouseenter', function() {
                        this.style.transform = 'translateY(-4px) scale(1.02)';
                    });
                    
                    card.addEventListener('mouseleave', function() {
                        this.style.transform = 'translateY(0) scale(1)';
                    });
                });

                // Enhanced mobile menu for account navigation
                const accountMenuToggle = document.createElement('button');
                accountMenuToggle.innerHTML = '<i class="fas fa-bars"></i> Menü';
                accountMenuToggle.className = 'lg:hidden modern-button bg-gradient-to-r from-purple-400 to-indigo-500 text-white font-semibold py-2 px-4 rounded-lg mb-4';
                
                const accountMenu = document.querySelector('.lg\\:col-span-1 .account-card nav');
                if (accountMenu && window.innerWidth < 1024) {
                    accountMenu.parentElement.insertBefore(accountMenuToggle, accountMenu);
                    accountMenu.style.display = 'none';
                    
                    accountMenuToggle.addEventListener('click', function() {
                        if (accountMenu.style.display === 'none') {
                            accountMenu.style.display = 'block';
                            this.innerHTML = '<i class="fas fa-times"></i> Kapat';
                        } else {
                            accountMenu.style.display = 'none';
                            this.innerHTML = '<i class="fas fa-bars"></i> Menü';
                        }
                    });
                }

                // Keyboard navigation enhancement
                document.addEventListener('keydown', function(e) {
                    if (e.key === 'Escape') {
                        // Close any open modals or menus
                        document.querySelectorAll('.alert').forEach(alert => {
                            alert.style.opacity = '0';
                            setTimeout(() => alert.remove(), 300);
                        });
                    }
                });

                // Performance optimization - lazy load non-critical elements
                const lazyElements = document.querySelectorAll('[data-lazy]');
                const lazyObserver = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            const element = entry.target;
                            element.classList.add('loaded');
                            lazyObserver.unobserve(element);
                        }
                    });
                });

                lazyElements.forEach(element => {
                    lazyObserver.observe(element);
                });
            });

            // CSS animasyon tanımları
            const style = document.createElement('style');
            style.textContent = `
                @keyframes ripple {
                    to {
                        transform: scale(4);
                        opacity: 0;
                    }
                }
                
                .input-focused {
                    transform: scale(1.02);
                    box-shadow: 0 0 0 3px rgba(124, 58, 237, 0.1);
                }
                
                @media (prefers-reduced-motion: reduce) {
                    * {
                        animation-duration: 0.01ms !important;
                        animation-iteration-count: 1 !important;
                        transition-duration: 0.01ms !important;
                    }
                }
            `;
            document.head.appendChild(style);
        </script>